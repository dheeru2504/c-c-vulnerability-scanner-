#include <iostream>
#include <cstring> // For memcpy and strlen
#include <windows.h>

using namespace std;

int main()
{
    // A long string that exceeds the buffer size in unsafeCopy function
    const char *longString = "This string is way too long for the destination buffer";

    char buffer[15];
    // Unsafe use of memcpy without checking the size of the source.
    // This can lead to buffer overflow if source is larger than buffer.

    memcpy(buffer, longString, strlen(longString) + 1); // +1 for null terminator

    cout << "Copied string -> " << buffer << endl;

    // char buffer2[10];
    // const char *longString2 = "This string is way too long for the destination buffer";
    // CopyMemory(buffer2, longString, strlen(longString) + 1); // +1 for null terminator

    // cout << "second string -> " << buffer2 << endl;

    return 0;
}
